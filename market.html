<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Short Market</title>
  <script src="./data.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.30.1/moment.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.13/dayjs.min.js"></script>
  <style>
    body{
      font-size: 12px;
    }
    * {
      margin: 0;
      padding: 0;
    }

    #chart1 {
      height: 30vh;
      margin-bottom: 3vh;
      margin-top: 6vh;
      margin-bottom: 2vh;
    }

    #chart2 {
      height: 30vh;
      margin-bottom: 2vh;
    }

    #chart3 {
      height: 30vh;
    }

    #page {
      position: absolute;
      left: 50%;
      top: 0px;
      font-size: 14px;
      transform: translateX(-50%);
    }
  </style>
</head>

<body>
  <div id="chart1"></div>
  <div id="chart2"></div>
  <div id="chart3"></div>
  <div id="page">
    <div style="text-align: center;"><span id="day" class="day" style="font-weight: bold;"></span>&nbsp;&nbsp;</div>
    <div style="white-space: nowrap; font-size: 12px; line-height: 1.1;">
      <span class="label">行业前三：</span>&nbsp;
      <span id="value0" class="value"></span>&nbsp;&nbsp;
      <span id="value1" class="value"></span>&nbsp;&nbsp;
      <span id="value2" class="value"></span>
    </div>
    <div style="white-space: nowrap; font-size: 12px; line-height: 1.1;">
      <span class="label">概念前三：</span>&nbsp;
      <span id="gainian0" class="value"></span>&nbsp;&nbsp;
      <span id="gainian1" class="value"></span>&nbsp;&nbsp;
      <span id="gainian2" class="value"></span>
    </div>
  </div>
  <script>
    var dataMap = {};
    var upLimitsScript = null;
    var showDay = '';
    var today = '';
    var yesterday = '';
    var todayZTData = null;
    var todayDTData = null;
    var todayZBData = null;
    var todayZRData = null;
    function isHoliday(day) {
      return day.getDay() == 0 || day.getDay() == 6;
    }
    function jsonp(src, className) {
      const script = document.createElement("script");
      script.src = src;
      script.className = className;
      document.body.appendChild(script);
    }
    function upLimitsCallback(data) {
      const { qdate, pool } = data.data
    }

    function getUpLimits(date) {
      const upSrc = `https://push2ex.eastmoney.com/getTopicZTPool?cb=upLimitsCallback&ut=7eea3edcaed734bea9cbfc24409ed989&dpt=wz.ztzt&Pageindex=0&pagesize=1000&sort=fbt%3Aasc&date=${date}&_=1732869992081`;
      jsonp(upSrc, 'up-limit');
    }
    function getPreWeekdays(days) {
      var weekdays = [dayjs(today).format("YYYYMMDD")];
      var currentDay = new Date();
      while (weekdays.length < days) {
        currentDay.setDate(currentDay.getDate() - 1);
        if (!isHoliday(currentDay)) {
          weekdays.unshift(dayjs(currentDay).format("YYYYMMDD"));
        }
      }
      return weekdays;
    }
    var weekdays = getPreWeekdays(30);
    var fetchArr = []
    // weekdays.forEach(day => {
    //   fetchArr.push(getUpLimits(day))
    // })
    //   Promise.all(fetchArr).then((res) => {
    //  console.log("res:", res);
    // });
    console.log(weekdays);
  </script>
  <script>
    // 上证指数，涨跌停数
    var klines = [];
    var klines30 = []
    var xAxis30 = []
    function aCallback(data) { // 上证指数K线
      klines = data.data.klines;
      klines30 = klines.slice(-10);
      showDay = klines30[klines30.length - 1].split(",")[0];
      today = showDay.replace(/-/g, '');
      yesterday = klines30[klines30.length - 2].split(",")[0].replace(/-/g, '');
      initPageDom()
      if (allData[today]) {
        initChart1()
        initChart2()
        initChart3()
      } else {
        queryTodayData()
      }
    }
    function queryTodayData() {
      const upUrl = `https://push2ex.eastmoney.com/getTopicZTPool?cb=upCallback&ut=7eea3edcaed734bea9cbfc24409ed989&dpt=wz.ztzt&Pageindex=0&pagesize=500&sort=fbt%3Aasc&date=${today}&_=1733367394919`
      const dtUrl = `https://push2ex.eastmoney.com/getTopicDTPool?cb=dtCallback&ut=7eea3edcaed734bea9cbfc24409ed989&dpt=wz.ztzt&Pageindex=0&pagesize=500&sort=fund%3Aasc&date=${today}&_=1733368300366`
      const zbUrl = `https://push2ex.eastmoney.com/getTopicZBPool?cb=zbCallback&ut=7eea3edcaed734bea9cbfc24409ed989&dpt=wz.ztzt&Pageindex=0&pagesize=500&sort=fbt%3Aasc&date=${today}&_=1733368300356`
      const zrUrl = `https://push2ex.eastmoney.com/getYesterdayZTPool?cb=zrCallback&ut=7eea3edcaed734bea9cbfc24409ed989&dpt=wz.ztzt&Pageindex=0&pagesize=500&sort=zs%3Adesc&date=${today}&_=1733379473965
`
      jsonp(upUrl)
      jsonp(dtUrl)
      jsonp(zbUrl)
      jsonp(zrUrl)
    }
    function upCallback(data) {
      todayZTData = data.data;
      deelTodayData();
    }
    function dtCallback(data) {
      todayDTData = data.data;
      deelTodayData();
    }
    function zbCallback(data) {
      todayZBData = data.data;
      deelTodayData();
    }
    function zrCallback(data) {
      todayZRData = data.data;
      deelTodayData();
    }
    function deelTodayData() {
      if (!todayDTData || !todayZTData || !todayZBData || !todayZRData) {
        return;
      }
      let upLimitsNum = 0,
        firstBoardNum = 0,
        secondBoardNum = 0,
        thirdBoardNum = 0,
        upFourBoardNum = 0,
        beijingBoardNum = 0,
        kechuangBoardNum = 0,
        chuangyeBoardNum = 0,
        mainBoardNum = 0,
        firstBoomNum = 0,
        secondBoomNum = 0,
        thirdBoomNum = 0,
        dropLimitsNum = 0,
        upFourBoardRate = '0',
        boomRate = '0',
        yesterdayUpTodayRise = '0',
        yesterdayLineTodayRise = '0',
        yesterdayBoomTodayRise = null,
        topThreeIndustry = '',
        totalBoomNum = 0;
      todayZTData.pool.forEach(item => {
        const { c, lbc, } = item;
        if (c.substring(0, 1) === '8') {
          beijingBoardNum++
        } else {
          upLimitsNum++
          if (c.substring(0, 1) === '3') {
            chuangyeBoardNum++
          } else if (c.substring(0, 2) === '68') {
            kechuangBoardNum++
          } else {
            mainBoardNum++
          }
          if (lbc === 1) {
            firstBoardNum++
          } else if (lbc === 2) {
            secondBoardNum++
          } else if (lbc === 3) {
            thirdBoardNum++
          } else {
            upFourBoardNum++
          }
        }
      })
      todayDTData.pool.forEach(item => {
        const { c, zttj } = item;
        if (c.substring(0, 1) !== '8') {
          dropLimitsNum++
        }
      })
      todayZBData.pool.forEach(item => {
        const { c, zttj } = item;
        if (c.substring(0, 1) !== '8') {
          const { days, ct } = zttj;
          if (days === 0 && ct === 0) {
            firstBoomNum++
          } else if (days === 2 && ct === 1) {
            secondBoomNum++
          } else if (days === 3 && ct === 2) {
            thirdBoomNum++
          }
          totalBoomNum++
        }
      })
      let allYesterdayZdp = 0;
      let allYesterdayNum = 0;
      let allYesterdayGaoZdp = 0;
      let allYesterdayGaoNum = 0;
      todayZRData.pool.forEach(item => {
        const { c, zdp, ylbc, zttj } = item;
        if (c.substring(0, 1) !== '8') {
          const { days, ct } = zttj;
          allYesterdayZdp += zdp;
          allYesterdayNum++;
          if (ylbc >= 4) {
            allYesterdayGaoZdp += zdp;
            allYesterdayGaoNum++;
          }
        }
      })
      upFourBoardRate = (upFourBoardNum / (allData[yesterday].upFourBoardNum + allData[yesterday].thirdBoardNum) * 100).toFixed(2)
      yesterdayUpTodayRise = (allYesterdayZdp / allYesterdayNum).toFixed(2)
      yesterdayLineTodayRise = (allYesterdayGaoZdp / allYesterdayGaoNum).toFixed(2)
      boomRate = (totalBoomNum / (upLimitsNum + totalBoomNum) * 100).toFixed(2)
      const todayData = {
        upLimitsNum,
        firstBoardNum,
        secondBoardNum,
        thirdBoardNum,
        upFourBoardNum,
        beijingBoardNum,
        kechuangBoardNum,
        chuangyeBoardNum,
        mainBoardNum,
        firstBoomNum,
        secondBoomNum,
        thirdBoomNum,
        dropLimitsNum,
        upFourBoardRate,
        boomRate,
        yesterdayUpTodayRise,
        yesterdayLineTodayRise,
        yesterdayBoomTodayRise,
        topThreeIndustry
      }
      console.log('todayData: ', todayData)
      allData[today] = todayData;
      initChart1()
      initChart2()
      initChart3()
    }
    function initPageDom() {

      document.getElementById("day").innerHTML = showDay;
      const hangyeUrl = "https://3.push2.eastmoney.com/api/qt/clist/get?cb=pageDomCallback&pn=1&pz=20&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&dect=1&wbp2u=|0|0|0|web&fid=f3&fs=m:90+t:2+f:!50&fields=f3,f14&_=1733382164442"
      const gainianUrl = "https://3.push2.eastmoney.com/api/qt/clist/get?cb=gainianCallback&pn=1&pz=20&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&dect=1&wbp2u=|0|0|0|web&fid=f3&fs=m:90+t:3+f:!50&fields=f3,f14&_=1733382164614"

      jsonp(hangyeUrl)
      jsonp(gainianUrl)
    }
    function pageDomCallback(data) {
      data.data.diff.forEach((item, index) => {
        if (index >= 3) {
          return;
        }
        const { f3, f14 } = item;
        let htmlStr = `<span style='color: red;'>${f14}: ${f3}%</span>`;
        if (f3 < 0) {
          htmlStr = `<span style='color: green;'>${f14}: ${f3}%</span>`;
        }
        document.getElementById(`value${index}`).innerHTML = htmlStr
      })
    }
    function gainianCallback(data) {
      data.data.diff.forEach((item, index) => {
        if (index >= 3) {
          return;
        }
        const { f3, f14 } = item;
        let htmlStr = `<span style='color: red;'>${f14}: ${f3}%</span>`;
        if (f3 < 0) {
          htmlStr = `<span style='color: green;'>${f14}: ${f3}%</span>`;
        }
        document.getElementById(`gainian${index}`).innerHTML = htmlStr
      })
    }
    var aUrl = 'https://push2his.eastmoney.com/api/qt/stock/kline/get?cb=aCallback&secid=1.000001&ut=fa5fd1943c7b386f172d6893dbfba10b&fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61&klt=101&fqt=1&end=20500101&lmt=120&_=1732868613637'
    jsonp(aUrl)

    function initChart1() {
      var yAxis30 = []
      var upLimits = []
      var dropLimits = []
      var mainBoardNumArr = []
      var chuangyeBoardNumArr = []
      var kechuangBoardNumArr = []
      var beijingBoardNumArr = []
      klines30.forEach(str => {
        const arr = str.split(",");
        const day = arr[0].replace(/-/g, '');
        xAxis30.push(day)
        yAxis30.push(arr[2])
        upLimits.push(allData[day] && allData[day].upLimitsNum)
        dropLimits.push(allData[day] && allData[day].dropLimitsNum)
        mainBoardNumArr.push(allData[day] && allData[day].mainBoardNum)
        chuangyeBoardNumArr.push(allData[day] && allData[day].chuangyeBoardNum)
        kechuangBoardNumArr.push(allData[day] && allData[day].kechuangBoardNum)
        beijingBoardNumArr.push(allData[day] && allData[day].beijingBoardNum)
      })
      var chartDom1 = document.getElementById("chart1");
      var myChart1 = echarts.init(chartDom1);
      var option1 = {
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "cross",
            crossStyle: {
              color: "#999",
            },
          },
        },
        legend: {
          data: [
            "涨停数",
            "主板",
            "创业板",
            "科创板",
            "京市",
            "跌停数", "上证指数"],
        },
        xAxis: [
          {
            type: "category",
            axisLabel: {
              interval: 0,
              rotate: 40
            },
            data: xAxis30,
            axisPointer: {
              type: "shadow",
            },
          },
        ],
        yAxis: [
          {
            type: "value",
            name: "涨/跌停数",
            nameTextStyle: {
              padding: [0, 0, 0, -30]
            },
            offset: -5,
            min: 0,
            max: 200,
            interval: 50,
            axisLabel: {
              formatter: "{value} 个",
            },
          },
          {
            type: "value",
            name: "上证指数",
            nameTextStyle: {
              padding: [0, -30, 0, 0]
            },
            min: 3000,
            max: 3500,
            interval: 500,
            axisLabel: {
              formatter: "{value}",
            },
          },
        ],
        series: [
          {
            name: "涨停数",
            type: "bar",
            color: '#ef3135',
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: upLimits,
          },
          {
            name: "主板",
            type: "bar",
            color: "#58bded",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: mainBoardNumArr,
          },
          {
            name: "创业板",
            type: "bar",
            color: "#ff6600",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: chuangyeBoardNumArr,
          },
          {
            name: "科创板",
            type: "bar",
            color: "#cd01ff",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: kechuangBoardNumArr,
          },
          {
            name: "京市",
            type: "bar",
            color: "#e5a980",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: beijingBoardNumArr,
          },
          {
            name: "跌停数",
            type: "bar",
            color: '#00a344',
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: dropLimits,
          },
          {
            name: "上证指数",
            type: "line",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + "";
              },
            },
            data: yAxis30,
          },
        ],
      };

      option1 && myChart1.setOption(option1);
    }

  </script>
  <script>
    // 封板数/封板率
    function initChart2() {
      var firstBoardNumArr = []; // 一板数
      var secondBoardNumArr = []; // 二板数
      var thirdBoardNumArr = []; // 三板数
      var upFourBoardNumArr = []; // 高度板数
      var firstRateArr = []; // 一板封板率
      var firstToSecondRateArr = []; // 一进二成功率
      var secondToThirdRateArr = []; // 二进三成功率
      var upFourRateArr = []; // 高度板连板率
      xAxis30.forEach((day, index) => {
        const dayData = allData[day];
        const yesterdayData = allData[xAxis30[index - 1]];
        let firstRate = undefined;
        let firstToSecondRate = undefined;
        let secondToThirdRate = undefined;
        let upFourRate = undefined;
        if (dayData) {
          const { firstBoardNum, firstBoomNum, secondBoardNum, thirdBoardNum, upFourBoardNum, upFourBoardRate } = dayData;
          firstBoardNumArr.push(firstBoardNum);
          secondBoardNumArr.push(secondBoardNum);
          thirdBoardNumArr.push(thirdBoardNum);
          upFourBoardNumArr.push(upFourBoardNum);
          firstRate = (firstBoardNum / (firstBoardNum + firstBoomNum) * 100).toFixed(2);
          upFourRate = upFourBoardRate
          if (yesterdayData) {
            firstToSecondRate = (secondBoardNum / yesterdayData.firstBoardNum * 100).toFixed(2)
            secondToThirdRate = (thirdBoardNum / yesterdayData.secondBoardNum * 100).toFixed(2)
          }
        } else {
          firstBoardNumArr.push(undefined);
          secondBoardNumArr.push(undefined);
          thirdBoardNumArr.push(undefined);
          upFourBoardNumArr.push(undefined);
        }
        firstRateArr.push(firstRate)
        firstToSecondRateArr.push(firstToSecondRate)
        secondToThirdRateArr.push(secondToThirdRate)
        upFourRateArr.push(upFourRate)
      })
      var chartDom2 = document.getElementById("chart2");
      var myChart2 = echarts.init(chartDom2);
      var option2 = {
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "cross",
            crossStyle: {
              color: "#999",
            },
          },
        },
        legend: {
          data: ["首板数", "二板数", "三板数", "高度板数", "首板成功率", "一进二", "二进三", "高度板"],
        },
        xAxis: [
          {
            type: "category",
            axisLabel: {
              interval: 0,
              rotate: 40
            },
            data: xAxis30,
            axisPointer: {
              type: "shadow",
            },
          },
        ],
        yAxis: [
          {
            type: "value",
            name: "封板数",
            nameTextStyle: {
              padding: [0, 0, 0, -40]
            },
            offset: -5,
            min: 0,
            max: 150,
            interval: 50,
            axisLabel: {
              formatter: "{value} 个",
            },
          },
          {
            type: "value",
            name: "成功率",
            nameTextStyle: {
              padding: [0, -40, 0, 0]
            },
            min: 0,
            max: 100,
            interval: 20,
            axisLabel: {
              formatter: "{value}",
            },
          },
        ],
        series: [
          {
            name: "首板数",
            type: "bar",
            color: "#5470c6",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: firstBoardNumArr,
          },
          {
            name: "二板数",
            type: "bar",
            color: "#91cc75",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: secondBoardNumArr,
          },
          {
            name: "三板数",
            type: "bar",
            color: "#fac858",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: thirdBoardNumArr,
          },
          {
            name: "高度板数",
            type: "bar",
            color: "#ee6666",
            tooltip: {
              valueFormatter: function (value) {
                return value + " 个";
              },
            },
            data: upFourBoardNumArr,
          },
          {
            name: "首板成功率",
            type: "line",
            color: "#5470c6",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + "%";
              },
            },
            data: firstRateArr,
          },
          {
            name: "一进二",
            type: "line",
            color: "#91cc75",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + "%";
              },
            },
            data: firstToSecondRateArr,
          },
          {
            name: "二进三",
            type: "line",
            color: "#fac858",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + "%";
              },
            },
            data: secondToThirdRateArr,
          },
          {
            name: "高度板",
            type: "line",
            color: "#ee6666",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + "%";
              },
            },
            data: upFourRateArr,
          },
        ],
      };

      option2 && myChart2.setOption(option2);
    }

  </script>
  <script>
    // 赚钱效应
    function initChart3() {
      var boomRateArr = []; // 炸板率
      // var mainBoardNumArr = []; // 主板
      // var chuangyeBoardNumArr = []; // 创业板
      // var kechuangBoardNumArr = []; // 科创板
      // var beijingBoardNumArr = []; // 京市
      var yesterdayUpTodayRiseArr = []; // 昨日涨停今表现
      var yesterdayLineTodayRiseArr = []; // 昨日连扳今表现
      var yesterdayBoomTodayRiseArr = []; // 昨日炸板今表现
      xAxis30.forEach((day, index) => {
        const dayData = allData[day];
        if (dayData) {
          const { boomRate, yesterdayUpTodayRise, yesterdayLineTodayRise, yesterdayBoomTodayRise, mainBoardNum, chuangyeBoardNum, kechuangBoardNum, beijingBoardNum } = dayData;
          boomRateArr.push(boomRate);
          // mainBoardNumArr.push(mainBoardNum)
          // chuangyeBoardNumArr.push(chuangyeBoardNum)
          // kechuangBoardNumArr.push(kechuangBoardNum)
          // beijingBoardNumArr.push(beijingBoardNum)
          yesterdayUpTodayRiseArr.push(yesterdayUpTodayRise);
          yesterdayLineTodayRiseArr.push(yesterdayLineTodayRise);
          yesterdayBoomTodayRiseArr.push(yesterdayBoomTodayRise);
        } else {
          boomRateArr.push(undefined);
          // mainBoardNumArr.push(undefined)
          // chuangyeBoardNumArr.push(undefined)
          // kechuangBoardNumArr.push(undefined)
          // beijingBoardNumArr.push(undefined)
          yesterdayUpTodayRiseArr.push(undefined);
          yesterdayLineTodayRiseArr.push(undefined);
          yesterdayBoomTodayRiseArr.push(undefined);
        }

      })
      var chartDom3 = document.getElementById("chart3");
      var myChart3 = echarts.init(chartDom3);
      var option3 = {
        tooltip: {
          trigger: "axis",
          axisPointer: {
            type: "cross",
            crossStyle: {
              color: "#999",
            },
          },
        },
        legend: {
          data: [
            "今日涨停炸板率",
            // "主板",
            // "创业板",
            // "科创板",
            // "京市",
            "昨日涨停今表现",
            "昨日连扳今表现",
            "昨日炸板今表现"],
        },
        xAxis: [
          {
            type: "category",
            axisLabel: {
              interval: 0,
              rotate: 40
            },
            data: xAxis30,
            axisPointer: {
              type: "shadow",
            },
          },
        ],
        yAxis: [
          {
            type: "value",
            name: "炸板率", nameTextStyle: {
              padding: [0, 0, 0, -50]
            },
            offset: -5,
            min: 0,
            max: 100,
            interval: 20,
            axisLabel: {
              formatter: "{value} %",
            },
          },
          // {
          //   type: "value",
          //   name: "涨停数",
          //   min: 0,
          //   max: 150,
          //   interval: 50,
          //   axisLabel: {
          //     formatter: "{value} 个",
          //   },
          // },
          {
            type: "value",
            name: "涨幅",
            name: "炸板率",
            nameTextStyle: {
              padding: [0, -40, 0, 0]
            },
            min: -5,
            max: 10,
            interval: 2,
            axisLabel: {
              formatter: "{value} %",
            },
          },
        ],
        series: [
          {
            name: "今日涨停炸板率",
            type: "bar",
            tooltip: {
              valueFormatter: function (value) {
                return value + " %";
              },
            },
            data: boomRateArr,
          },
          // {
          //   name: "主板",
          //   type: "bar",
          //   tooltip: {
          //     valueFormatter: function (value) {
          //       return value + " 个";
          //     },
          //   },
          //   data: mainBoardNumArr,
          // },
          // {
          //   name: "创业板",
          //   type: "bar",
          //   tooltip: {
          //     valueFormatter: function (value) {
          //       return value + " 个";
          //     },
          //   },
          //   data: chuangyeBoardNumArr,
          // },
          // {
          //   name: "科创板",
          //   type: "bar",
          //   tooltip: {
          //     valueFormatter: function (value) {
          //       return value + " 个";
          //     },
          //   },
          //   data: kechuangBoardNumArr,
          // },
          // {
          //   name: "京市",
          //   type: "bar",
          //   tooltip: {
          //     valueFormatter: function (value) {
          //       return value + " 个";
          //     },
          //   },
          //   data: beijingBoardNumArr,
          // },
          {
            name: "昨日涨停今表现",
            type: "line",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + " %";
              },
            },
            data: yesterdayUpTodayRiseArr,
          },
          {
            name: "昨日连扳今表现",
            type: "line",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + " %";
              },
            },
            data: yesterdayLineTodayRiseArr,
          },
          {
            name: "昨日炸板今表现",
            type: "line",
            yAxisIndex: 1,
            tooltip: {
              valueFormatter: function (value) {
                return value + " %";
              },
            },
            data: yesterdayBoomTodayRiseArr,
          },
        ],
      };

      option3 && myChart3.setOption(option3);
    }

  </script>
</body>

</html>